{"version":3,"sources":["range-control.min.js"],"names":["wp","customize","controlConstructor","Control","extend","ready"],"mappings":"AAAAA,GAAGC,UAAUC,mBAAmB,eAAiBF,GAAGC,UAAUE,QAAQC,OAClEC","file":"range-control.min.js","sourcesContent":["wp.customize.controlConstructor['range-value'] = wp.customize.Control.extend({\n    ready: function() {\n        'use strict';\n\n        jQuery.fn.exists = function() {\n            return this.length > 0;\n        };\n        var control = this,\n            changeAction;\n        var theme_controls = jQuery('#customize-theme-controls');\n\n        function syncRangeText(slider, input, from) {\n            switch (from) {\n                case 'slider':\n                    var value = slider.val();\n                    var type = jQuery(input).attr('type');\n                    if (type === 'text') {\n                        // inputBox\n                        if (value >= 0) {\n                            value = '+' + value;\n                        }\n                    }\n                    input.val(value);\n                    break;\n                case 'input':\n                    slider.val(input.val());\n                    break;\n            }\n        }\n\n        function updateValues(control) {\n            var collector = control.find('.range-collector');\n            var values = getSliderValues(control);\n            var have_queries = Object.keys(values).length > 1;\n            if (have_queries) {\n                collector.val(JSON.stringify(values));\n            } else {\n                collector.val(values.desktop);\n            }\n            collector.trigger('change');\n        }\n\n        function getSliderValues(control) {\n            var values = {};\n            var desktopSelector = control.find(\n                    '.range-slider__range[data-query=\"desktop\"]'\n                ),\n                tabletSelector = control.find(\n                    '.range-slider__range[data-query=\"tablet\"]'\n                ),\n                mobileSelector = control.find(\n                    '.range-slider__range[data-query=\"mobile\"]'\n                ),\n                desktopValue,\n                tabletValue,\n                mobileValue;\n\n            if (desktopSelector.exists()) {\n                desktopValue = desktopSelector.val();\n                if (desktopValue !== 'undefined' && desktopValue !== '') {\n                    values.desktop = desktopValue;\n                }\n            }\n\n            if (tabletSelector.exists()) {\n                tabletValue = tabletSelector.val();\n                if (tabletValue !== 'undefined' && tabletValue !== '') {\n                    values.tablet = tabletValue;\n                }\n            }\n\n            if (mobileSelector.exists()) {\n                mobileValue = mobileSelector.val();\n                if (mobileValue !== 'undefined' && mobileValue !== '') {\n                    values.mobile = mobileValue;\n                }\n            }\n\n            return values;\n        }\n\n        theme_controls\n            .unbind()\n            .on('click', '.preview-desktop.active', function() {\n                jQuery('.responsive-switchers').toggleClass(\n                    'responsive-switchers-open'\n                );\n            });\n\n        theme_controls.on('input', '.range-slider__range', function() {\n            var slider = jQuery(this);\n            var input = jQuery(this).next();\n            var control = jQuery(this)\n                .parent()\n                .parent();\n            syncRangeText(slider, input, 'slider');\n            updateValues(control);\n        });\n\n        theme_controls.on('keyup', '.range-slider-value', function() {\n            var control = jQuery(this)\n                .parent()\n                .parent();\n            updateValues(control);\n        });\n        theme_controls.on('keydown', '.range-slider-value', function() {\n            var slider = jQuery(this).prev();\n            var input = jQuery(this);\n            syncRangeText(slider, input, 'input');\n        });\n\n        theme_controls.on('click', '.range-reset-slider', function(event) {\n            event.preventDefault();\n            var input = jQuery(this).prev();\n            var slider = input.prev();\n            var control = jQuery(this)\n                .parent()\n                .parent();\n            var defaultValue = slider.data('default');\n            var type = jQuery(input).attr('type');\n            if (type === 'text') {\n                // inputBox\n                defaultValue = '+0';\n            }\n            input.val(defaultValue);\n            slider.val(defaultValue);\n            updateValues(control);\n        });\n\n        if ('postMessage' === control.setting.transport) {\n            changeAction = 'mousemove change';\n        } else {\n            changeAction = 'change';\n        }\n\n        // Change the value\n        this.container.on(changeAction, '.range-collector', function() {\n            control.setting.set(jQuery(this).val());\n        });\n    },\n});\n"]}